@-moz-document url('chrome://browser/content/browser.xhtml') {

    /* LIGHT THEME */
    @media (prefers-color-scheme: light) {
        :not(:-moz-lwtheme) {
            --lwt-accent-color: WINDOWBGLIGHT !important;
            --lwt-text-color: WINDOWFGLIGHT !important;
            --toolbar-bgcolor: TABBGLIGHT !important;
            --toolbar-color: TABFGLIGHT !important;
            --lwt-selected-tab-background-color: TABBGLIGHT !important;
            --lwt-tab-text: TABFGLIGHT !important;
            --chrome-content-separator-color: WINDOWBGLIGHT !important;
            --toolbarbutton-hover-background: TABFG02LIGHT !important;
            --toolbarbutton-active-background: TABFG03LIGHT !important;
        }
    }

    /* DARK THEME */
    @media (prefers-color-scheme: dark) {
        :not(:-moz-lwtheme) {
            --lwt-accent-color: WINDOWBGDARK !important;
            --lwt-text-color: WINDOWFGDARK !important;
            --toolbar-bgcolor: TABBGDARK !important;
            --toolbar-color: TABFGDARK !important;
            --lwt-selected-tab-background-color: TABBGDARK !important;
            --lwt-tab-text: TABFGDARK !important;
            --chrome-content-separator-color: WINDOWBGDARK !important;
            --toolbarbutton-hover-background: TABFG02DARK !important;
            --toolbarbutton-active-background: TABFG03DARK !important;
        }
    }

    /* INCOGNITO */
    [lwt-default-theme-in-dark-mode="true"][privatebrowsingmode="temporary"] {
        --lwt-accent-color: WINDOWBGPRIVATE !important;
        --lwt-text-color: WINDOWFGPRIVATE !important;
        --toolbar-bgcolor: TABBGPRIVATE !important;
        --toolbar-color: TABFGPRIVATE !important;
        --lwt-selected-tab-background-color: TABBGPRIVATE !important;
        --lwt-tab-text: TABFGPRIVATE !important;
        --chrome-content-separator-color: WINDOWBGPRIVATE !important;
        --toolbarbutton-hover-background: TABFG02PRIVATE !important;
        --toolbarbutton-active-background: TABFG03PRIVATE !important;
    }

    #TabsToolbar #firefox-view-button[open] > .toolbarbutton-icon,
    #tabbrowser-tabs:not([noshadowfortests]) .tab-background:is([selected], [multiselected]) {
        box-shadow: 0 0 4px rgba(0,0,0,.26) !important;
    }

    :root {
        --button-active-bgcolor: color-mix(in srgb, currentColor 30%, transparent) !important;
        --button-bgcolor: color-mix(in srgb, currentColor 13%, transparent) !important;
        --button-hover-bgcolor: color-mix(in srgb, currentColor 17%, transparent) !important;
    }
}
